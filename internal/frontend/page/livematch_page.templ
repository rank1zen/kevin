package page

import (
	"context"
	"fmt"
	"github.com/rank1zen/kevin/internal/frontend/component/page"
	"github.com/rank1zen/kevin/internal/frontend/view/livematch/teamsection"
	"github.com/rank1zen/kevin/internal/frontend/view/shared"
	"github.com/rank1zen/kevin/internal/riot"
)

type LivematchPageData struct {
	Region  riot.Region
	MatchID string

	Teams []teamsection.TeamsectionData
}

templ LivematchPage(ctx context.Context, data LivematchPageData) {
	@page.Page(fmt.Sprintf("%s - Live Match - Kevin", data.MatchID)) {
		@page.Header() {
			@shared.Header(ctx, shared.HeaderData{
				Region: data.Region,
			})
		}
		@page.Body() {
			<div>
				<div class="px-2 max-w-7xl mt-7 mx-auto md:px-6">
					<h1 class="mt-7 font-bold text-2xl text-gray-900/90 dark:text-gray-100/90">
						{ fmt.Sprintf("Live Match %s", data.MatchID) }
					</h1>
					for _, team := range data.Teams {
						@teamsection.Teamsection(ctx, team)
					}
				</div>
			</div>
		}
		@page.Footer() {
			@shared.PageFooter(ctx, shared.PageFooterData{})
		}
	}
}
